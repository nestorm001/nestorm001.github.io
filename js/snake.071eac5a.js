(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["snake"],{5365:function(t,e,i){"use strict";var n=i("a848"),a=i.n(n);a.a},"61ea":function(t,e,i){"use strict";i.r(e);var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"px-2 my-5 py-0",staticStyle:{"max-width":"600px","min-width":"300px"}},[i("v-responsive",{staticClass:"container",attrs:{"aspect-ratio":1}},[i("div",{staticClass:"board"},[t._l(t.board,(function(e,n){return i("div",{key:n,ref:"tile-"+n,refInFor:!0,staticClass:"tile",style:t.showTile(e)})})),i("transition",{attrs:{name:"fade"}},[t.gaming?t.gaming&&t.paused?i("div",{staticClass:"centered"},[i("div",[i("h2",{staticClass:"primary--text"},[t._v("Paused")]),i("br"),i("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(e){t.paused=!1}}},[t._v(" Resume ")])],1)]):t._e():i("div",{staticClass:"centered"},[i("div",[i("h2",{staticClass:"primary--text"},[t._v("Game Over!")]),i("br"),i("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.start()}}},[t._v("Restart")])],1)])])],2)]),i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.gaming?i("control",{on:{onKey:t.handleKey}}):t._e()],1)],1)},r=[],s=(i("4de4"),i("4160"),i("d3b7"),i("4ae1"),i("25f0"),i("159b"),i("262e")),o=i("99de"),c=i("7e84"),u=i("d4ec"),h=i("bee2"),d=i("9ab4"),l=i("60a3"),f=i("9380");function v(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var i,n=Object(c["a"])(t);if(e()){var a=Object(c["a"])(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Object(o["a"])(this,i)}}(function(t){t[t["Empty"]=0]="Empty",t[t["Head"]=1]="Head",t[t["Crushed"]=2]="Crushed",t[t["Body"]=3]="Body",t[t["Fruit"]=4]="Fruit"})(n||(n={}));var p=function(){function t(e){Object(u["a"])(this,t),this.type=e,this.setType(e)}return Object(h["a"])(t,[{key:"setType",value:function(t){switch(this.type=t,t){case n.Fruit:this.color="var(--v-accent-base)";break;case n.Body:this.color="var(--v-primary-lighten1)";break;case n.Head:this.color="var(--v-primary-base)";break;case n.Crushed:this.color="var(--v-error-base)";break;case n.Empty:default:this.color="var(--v-black-darken4)"}}}]),t}(),y=function(t){Object(s["a"])(i,t);var e=v(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.MIN=4,t.boardSize=t.size*t.size,t.board=[],t.length=3,t.gaming=!0,t.paused=!1,t.snake=[],t.next=[0,0],t.direction=[0,1],t.interval=1e3,t.fruitCount=0,t}return Object(h["a"])(i,[{key:"mounted",value:function(){this.size<this.MIN&&(this.size=this.MIN,this.boardSize=this.size*this.size),this.moniterKey(),this.start()}},{key:"deactivated",value:function(){this.paused=!0}},{key:"activated",value:function(){this.gaming||(this.paused=!1)}},{key:"init",value:function(){this.stopInterval(),this.board.length=0,this.snake.length=0,this.fruitCount=0,this.direction=[0,1]}},{key:"start",value:function(){var t=this;this.init(),this.gaming=!0;for(var e=0;e<this.boardSize;e++)this.board.push(new p(n.Empty));var i=Math.floor(this.size/2);this.snake.push(i*this.size+2),this.snake.push(i*this.size+1),this.snake.push(i*this.size+0),this.decideNext(),this.insertFruitAndRefresh(),this.intervalId=setInterval((function(){t.gaming&&!t.paused&&(t.decideNext(),t.moveNext())}),this.interval)}},{key:"insertFruitAndRefresh",value:function(){var t=this;if(this.gaming){this.snake.forEach((function(e){return t.board[e].setType(n.Body)})),this.board[this.snake[0]].setType(n.Head);while(this.fruitCount<2){var e=this.board.filter((function(t){return t.type===n.Empty}));if(0===e.length)break;var i=Math.floor(Math.random()*e.length);e[i].setType(n.Fruit),this.fruitCount++}}}},{key:"decideNext",value:function(){var t=this.snake[0];this.next[0]=Math.floor(t/this.size)+this.direction[0],this.next[1]=t%this.size+this.direction[1]}},{key:"moveNext",value:function(){var t=this.nextTile();if(t){var e=this.snake.pop();if(void 0!=e){switch(this.board[e].setType(n.Empty),t.type){case n.Empty:this.snake.unshift(this.next[0]*this.size+this.next[1]);break;case n.Fruit:this.snake.unshift(this.next[0]*this.size+this.next[1]),this.snake.push(e),this.fruitCount--;break;case n.Body:this.gameOver();break;default:break}this.insertFruitAndRefresh()}}else this.gameOver()}},{key:"withinRange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.next;return t[0]>=0&&t[0]<this.size&&t[1]>=0&&t[1]<this.size}},{key:"nextTile",value:function(){if(this.withinRange())return this.board[this.next[0]*this.size+this.next[1]]}},{key:"gameOver",value:function(){this.board[this.snake[0]].setType(n.Crushed),this.gaming=!1}},{key:"beforeDestroy",value:function(){this.stopInterval(),this.unmoniterKey()}},{key:"stopInterval",value:function(){this.intervalId&&window.clearInterval(this.intervalId),this.intervalId=void 0}},{key:"moniterKey",value:function(){addEventListener("keyup",this.keyMonitor)}},{key:"unmoniterKey",value:function(){removeEventListener("keyup",this.keyMonitor)}},{key:"keyMonitor",value:function(t){t instanceof KeyboardEvent&&this.gaming&&this.handleKey(t.key)}},{key:"handleKey",value:function(t){switch(t){case"ArrowLeft":case"a":this.handleInput([0,-1]);break;case"ArrowUp":case"w":this.handleInput([-1,0]);break;case"ArrowRight":case"d":this.handleInput([0,1]);break;case"ArrowDown":case"s":this.handleInput([1,0]);break;default:break}}},{key:"handleInput",value:function(t){var e=this.snake[0],i=(Math.floor(e/this.size)+t[0])*this.size+e%this.size+t[1];i!==this.snake[1]&&(this.direction=t)}},{key:"showTile",value:function(t){var e=95/this.size;return{width:e+"%",height:e+"%",backgroundColor:t.color}}}]),i}(l["c"]);Object(d["a"])([Object(l["b"])({default:10})],y.prototype,"size",void 0),y=Object(d["a"])([Object(l["a"])({components:{Control:f["a"]}})],y);var b=y,k=b,m=(i("5365"),i("2877")),g=i("6544"),w=i.n(g),x=i("8336"),C=i("a523"),O=i("6b53"),j=Object(m["a"])(k,a,r,!1,null,"897edc4c",null);e["default"]=j.exports;w()(j,{VBtn:x["a"],VContainer:C["a"],VResponsive:O["a"]})},"63f1":function(t,e,i){"use strict";var n=i("9873"),a=i.n(n);a.a},9380:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:"game-control",staticClass:"arrow-controls"},[i("v-btn",{staticClass:"ma-0",attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.onKey("w")}}},[i("v-icon",[t._v("mdi-arrow-up-bold")])],1),i("br"),i("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.onKey("a")}}},[i("v-icon",[t._v("mdi-arrow-left-bold")])],1),i("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.onKey("d")}}},[i("v-icon",[t._v("mdi-arrow-right-bold")])],1),i("br"),i("v-btn",{staticClass:"ma-0",attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.onKey("s")}}},[i("v-icon",[t._v("mdi-arrow-down-bold")])],1)],1)},a=[],r=(i("d3b7"),i("4ae1"),i("25f0"),i("d4ec")),s=i("bee2"),o=i("262e"),c=i("99de"),u=i("7e84"),h=i("9ab4"),d=i("60a3");function l(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var i,n=Object(u["a"])(t);if(e()){var a=Object(u["a"])(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Object(c["a"])(this,i)}}var f=function(t){Object(o["a"])(i,t);var e=l(i);function i(){return Object(r["a"])(this,i),e.apply(this,arguments)}return Object(s["a"])(i,[{key:"onKey",value:function(t){this.$emit("onKey",t)}}]),i}(d["c"]);f=Object(h["a"])([d["a"]],f);var v=f,p=v,y=(i("63f1"),i("2877")),b=i("6544"),k=i.n(b),m=i("8336"),g=i("132d"),w=Object(y["a"])(p,n,a,!1,null,"1072d3e6",null);e["a"]=w.exports;k()(w,{VBtn:m["a"],VIcon:g["a"]})},9873:function(t,e,i){},a523:function(t,e,i){"use strict";i("99af"),i("4de4"),i("b64b"),i("2ca0"),i("20f6"),i("4b85"),i("a15b"),i("498a");var n=i("2b0e");function a(t){return n["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,i){var n=i.props,a=i.data,r=i.children;a.staticClass="".concat(t," ").concat(a.staticClass||"").trim();var s=a.attrs;if(s){a.attrs={};var o=Object.keys(s).filter((function(t){if("slot"===t)return!1;var e=s[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}));o.length&&(a.staticClass+=" ".concat(o.join(" ")))}return n.id&&(a.domProps=a.domProps||{},a.domProps.id=n.id),e(n.tag,a,r)}})}var r=i("d9f7");e["a"]=a("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var i,n=e.props,a=e.data,s=e.children,o=a.attrs;return o&&(a.attrs={},i=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}))),n.id&&(a.domProps=a.domProps||{},a.domProps.id=n.id),t(n.tag,Object(r["a"])(a,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(i||[])}),s)}})},a848:function(t,e,i){}}]);
//# sourceMappingURL=snake.071eac5a.js.map