{"version":3,"sources":["webpack:///./src/views/Snake.vue?00f5","webpack:///./src/views/Snake.vue?d2d5","webpack:///./src/views/Snake.vue","webpack:///./src/views/Snake.vue?7c74","webpack:///./src/views/Snake.vue?b8fc","webpack:///./src/components/game/Control.vue?fc7b","webpack:///./src/components/game/Control.vue?d615","webpack:///./src/components/game/Control.vue","webpack:///./src/components/game/Control.vue?60d7","webpack:///./src/components/game/Control.vue?0606","webpack:///../../../src/components/VGrid/grid.ts","webpack:///../../../src/components/VGrid/VContainer.ts"],"names":["Type","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","_l","tile","index","key","ref","refInFor","style","showTile","gaming","paused","_v","on","$event","_e","start","handleKey","staticRenderFns","type","setType","Fruit","color","Body","Head","Crushed","Empty","MIN","boardSize","size","board","length","snake","next","direction","interval","fruitCount","moniterKey","stopInterval","init","push","rowIndex","Math","floor","decideNext","insertFruitAndRefresh","intervalId","setInterval","moveNext","forEach","emptys","filter","random","head","nextTile","end","pop","undefined","unshift","gameOver","withinRange","unmoniterKey","window","clearInterval","addEventListener","keyMonitor","removeEventListener","event","KeyboardEvent","handleInput","input","percent","width","height","backgroundColor","default","components","Control","component","VBtn","VContainer","VResponsive","onKey","$emit","VIcon","name","functional","props","id","tag","children","data","classes","Object","value","h","fluid","mergeData","class","Array"],"mappings":"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","file":"js/snake.071eac5a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Snake.vue?vue&type=style&index=0&id=897edc4c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Snake.vue?vue&type=style&index=0&id=897edc4c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"px-2 my-5 py-0\",staticStyle:{\"max-width\":\"600px\",\"min-width\":\"300px\"}},[_c('v-responsive',{staticClass:\"container\",attrs:{\"aspect-ratio\":1 / 1}},[_c('div',{staticClass:\"board\"},[_vm._l((_vm.board),function(tile,index){return _c('div',{key:index,ref:'tile-' + index,refInFor:true,staticClass:\"tile\",style:(_vm.showTile(tile))})}),_c('transition',{attrs:{\"name\":\"fade\"}},[(!_vm.gaming)?_c('div',{staticClass:\"centered\"},[_c('div',[_c('h2',{staticClass:\"primary--text\"},[_vm._v(\"Game Over!\")]),_c('br'),_c('v-btn',{attrs:{\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.start()}}},[_vm._v(\"Restart\")])],1)]):(_vm.gaming && _vm.paused)?_c('div',{staticClass:\"centered\"},[_c('div',[_c('h2',{staticClass:\"primary--text\"},[_vm._v(\"Paused\")]),_c('br'),_c('v-btn',{attrs:{\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.paused = false}}},[_vm._v(\" Resume \")])],1)]):_vm._e()])],2)]),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.gaming)?_c('control',{on:{\"onKey\":_vm.handleKey}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport Control from \"@/components/game/Control.vue\";\n\nenum Type {\n  Empty,\n  Head,\n  Crushed,\n  Body,\n  Fruit\n}\n\nclass Tile {\n  color!: string;\n  constructor(public type: Type) {\n    this.setType(type);\n  }\n\n  setType(type: Type) {\n    this.type = type;\n    switch (type) {\n      case Type.Fruit:\n        this.color = \"var(--v-accent-base)\";\n        break;\n      case Type.Body:\n        this.color = \"var(--v-primary-lighten1)\";\n        break;\n      case Type.Head:\n        this.color = \"var(--v-primary-base)\";\n        break;\n      case Type.Crushed:\n        this.color = \"var(--v-error-base)\";\n        break;\n      case Type.Empty:\n      default:\n        this.color = \"var(--v-black-darken4)\";\n    }\n  }\n}\n\n@Component({\n  components: {\n    Control\n  }\n})\nexport default class Snake extends Vue {\n  private MIN = 4;\n  @Prop({ default: 10 }) private size!: number;\n  private boardSize = this.size * this.size;\n  private board: Tile[] = [];\n  private length = 3;\n  private gaming = true;\n  private paused = false;\n  private snake: Type[] = [];\n  private next: [number, number] = [0, 0];\n  private direction: [number, number] = [0, 1];\n  private intervalId: number | undefined;\n  private interval = 1000;\n  private fruitCount = 0;\n\n  mounted() {\n    if (this.size < this.MIN) {\n      this.size = this.MIN;\n      this.boardSize = this.size * this.size;\n    }\n    this.moniterKey();\n    this.start();\n  }\n\n  deactivated() {\n    this.paused = true;\n  }\n\n  activated() {\n    if (!this.gaming) {\n      this.paused = false;\n    }\n  }\n\n  init() {\n    this.stopInterval();\n    this.board.length = 0;\n    this.snake.length = 0;\n    this.fruitCount = 0;\n    this.direction = [0, 1];\n  }\n\n  start() {\n    this.init();\n    this.gaming = true;\n    for (let index = 0; index < this.boardSize; index++) {\n      this.board.push(new Tile(Type.Empty));\n    }\n    const rowIndex = Math.floor(this.size / 2);\n    this.snake.push(rowIndex * this.size + 2);\n    this.snake.push(rowIndex * this.size + 1);\n    this.snake.push(rowIndex * this.size + 0);\n    this.decideNext();\n    this.insertFruitAndRefresh();\n    this.intervalId = setInterval(() => {\n      if (this.gaming && !this.paused) {\n        this.decideNext();\n        this.moveNext();\n      }\n    }, this.interval);\n  }\n\n  insertFruitAndRefresh() {\n    if (!this.gaming) {\n      return;\n    }\n    this.snake.forEach(index => this.board[index].setType(Type.Body));\n    this.board[this.snake[0]].setType(Type.Head);\n\n    while (this.fruitCount < 2) {\n      const emptys = this.board.filter(tile => tile.type === Type.Empty);\n      if (emptys.length === 0) break;\n      const index = Math.floor(Math.random() * emptys.length);\n      emptys[index].setType(Type.Fruit);\n      this.fruitCount++;\n    }\n  }\n\n  decideNext() {\n    const head = this.snake[0];\n    this.next[0] = Math.floor(head / this.size) + this.direction[0];\n    this.next[1] = (head % this.size) + this.direction[1];\n  }\n\n  moveNext() {\n    const nextTile = this.nextTile();\n    if (nextTile) {\n      const end = this.snake.pop();\n      if (end != undefined) {\n        this.board[end].setType(Type.Empty);\n        switch (nextTile.type) {\n          case Type.Empty:\n            this.snake.unshift(this.next[0] * this.size + this.next[1]);\n            break;\n          case Type.Fruit:\n            this.snake.unshift(this.next[0] * this.size + this.next[1]);\n            this.snake.push(end);\n            this.fruitCount--;\n            break;\n          case Type.Body:\n            this.gameOver();\n            break;\n          default:\n            break;\n        }\n        this.insertFruitAndRefresh();\n      }\n    } else {\n      this.gameOver();\n    }\n  }\n\n  withinRange(next: [number, number] = this.next): boolean {\n    return (\n      next[0] >= 0 && next[0] < this.size && next[1] >= 0 && next[1] < this.size\n    );\n  }\n\n  nextTile(): Tile | undefined {\n    if (this.withinRange()) {\n      return this.board[this.next[0] * this.size + this.next[1]];\n    }\n    return undefined;\n  }\n\n  gameOver() {\n    this.board[this.snake[0]].setType(Type.Crushed);\n    this.gaming = false;\n  }\n\n  beforeDestroy() {\n    this.stopInterval();\n    this.unmoniterKey();\n  }\n\n  stopInterval() {\n    if (this.intervalId) {\n      window.clearInterval(this.intervalId);\n    }\n    this.intervalId = undefined;\n  }\n\n  moniterKey() {\n    addEventListener(\"keyup\", this.keyMonitor);\n  }\n\n  unmoniterKey() {\n    removeEventListener(\"keyup\", this.keyMonitor);\n  }\n\n  keyMonitor(event: Event) {\n    if (!(event instanceof KeyboardEvent) || !this.gaming) return;\n    this.handleKey(event.key);\n  }\n\n  handleKey(key: string) {\n    switch (key) {\n      case \"ArrowLeft\":\n      case \"a\":\n        this.handleInput([0, -1]);\n        break;\n      case \"ArrowUp\":\n      case \"w\":\n        this.handleInput([-1, 0]);\n        break;\n      case \"ArrowRight\":\n      case \"d\":\n        this.handleInput([0, 1]);\n        break;\n      case \"ArrowDown\":\n      case \"s\":\n        this.handleInput([1, 0]);\n        break;\n      default:\n        break;\n    }\n  }\n\n  handleInput(input: [number, number]) {\n    const head = this.snake[0];\n    const next =\n      (Math.floor(head / this.size) + input[0]) * this.size +\n      (head % this.size) +\n      input[1];\n    if (next === this.snake[1]) {\n      return;\n    }\n    this.direction = input;\n  }\n\n  showTile(tile: Tile): Record<string, string> {\n    const percent = 95 / this.size;\n    return {\n      width: percent + \"%\",\n      height: percent + \"%\",\n      backgroundColor: tile.color\n    };\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Snake.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Snake.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Snake.vue?vue&type=template&id=897edc4c&scoped=true&\"\nimport script from \"./Snake.vue?vue&type=script&lang=ts&\"\nexport * from \"./Snake.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Snake.vue?vue&type=style&index=0&id=897edc4c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"897edc4c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\ninstallComponents(component, {VBtn,VContainer,VResponsive})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Control.vue?vue&type=style&index=0&id=1072d3e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Control.vue?vue&type=style&index=0&id=1072d3e6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{key:\"game-control\",staticClass:\"arrow-controls\"},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.onKey('w')}}},[_c('v-icon',[_vm._v(\"mdi-arrow-up-bold\")])],1),_c('br'),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.onKey('a')}}},[_c('v-icon',[_vm._v(\"mdi-arrow-left-bold\")])],1),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.onKey('d')}}},[_c('v-icon',[_vm._v(\"mdi-arrow-right-bold\")])],1),_c('br'),_c('v-btn',{staticClass:\"ma-0\",attrs:{\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.onKey('s')}}},[_c('v-icon',[_vm._v(\"mdi-arrow-down-bold\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class Control extends Vue {\n  onKey(key: string) {\n    this.$emit(\"onKey\", key);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Control.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Control.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Control.vue?vue&type=template&id=1072d3e6&scoped=true&\"\nimport script from \"./Control.vue?vue&type=script&lang=ts&\"\nexport * from \"./Control.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Control.vue?vue&type=style&index=0&id=1072d3e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1072d3e6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","// Types\nimport Vue, { VNode } from 'vue'\n\nexport default function VGrid (name: string) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n\n    functional: true,\n\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div',\n      },\n    },\n\n    render (h, { props, data, children }): VNode {\n      data.staticClass = (`${name} ${data.staticClass || ''}`).trim()\n\n      const { attrs } = data\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {}\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false\n\n          const value = attrs[key]\n\n          // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n          if (key.startsWith('data-')) {\n            data.attrs![key] = value\n            return false\n          }\n\n          return value || typeof value === 'string'\n        })\n\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {}\n        data.domProps.id = props.id\n      }\n\n      return h(props.tag, data, children)\n    },\n  })\n}\n","import './_grid.sass'\nimport './VGrid.sass'\n\nimport Grid from './grid'\n\nimport mergeData from '../../util/mergeData'\n\n/* @vue/component */\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    fluid: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render (h, { props, data, children }) {\n    let classes\n    const { attrs } = data\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {}\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false\n\n        const value = attrs[key]\n\n        // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n        if (key.startsWith('data-')) {\n          data.attrs![key] = value\n          return false\n        }\n\n        return value || typeof value === 'string'\n      })\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {}\n      data.domProps.id = props.id\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'container',\n        class: Array<any>({\n          'container--fluid': props.fluid,\n        }).concat(classes || []),\n      }),\n      children\n    )\n  },\n})\n"],"sourceRoot":""}